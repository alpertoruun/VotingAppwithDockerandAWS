{% extends "_base.html" %}

{% block content %}
<div class="row">
  <div class="col-md-4"></div>
  <div class="col-md-4">
    <main class="form-signin w-100 m-auto">
      <form role="form" method="post" action="" enctype="multipart/form-data">
        <h1 class="h3 mb-3 fw-normal text-center">Kayıt olun</h1>

        <!-- Email -->
        <div class="form-floating">
          <input
            type="email"
            name="email"
            placeholder="Email"
            class="form-control mb-2"
            required
          />
          <label for="email">Email</label>
        </div>

        <!-- Şifre -->
        <div class="form-floating">
          <input
            type="password"
            name="password"
            placeholder="Şifre"
            class="form-control mb-2"
            required
          />
          <label for="password">Şifre</label>
        </div>

        <!-- Şifre Tekrar -->
        <div class="form-floating">
          <input
            type="password"
            name="confirm_password"
            placeholder="Şifre Tekrar"
            class="form-control mb-2"
            required
          />
          <label for="confirm_password">Şifre Tekrar</label>
        </div>

        <!-- Seçmen Hesabı Checkbox -->
        <div class="form-check mb-2">
          <input
            class="form-check-input"
            type="checkbox"
            id="is_voter"
            name="is_voter"
            onclick="toggleVoterFields()"
          />
          <label class="form-check-label" for="is_voter">
            Seçmen hesabı oluştur
          </label>
        </div>

        <!-- Seçmen Alanları -->
        <div id="voter-fields" style="display: none;">
          <!-- TC Kimlik Numarası -->
          <div class="form-floating">
            <input
              type="text"
              name="tc"
              placeholder="TC Kimlik Numarası"
              class="form-control mb-2"
            />
            <label for="tc">TC Kimlik Numarası</label>
          </div>

          <!-- İsim -->
          <div class="form-floating">
            <input
              type="text"
              name="name"
              placeholder="İsim"
              class="form-control mb-2"
            />
            <label for="name">İsim</label>
          </div>

          <!-- Soyisim -->
          <div class="form-floating">
            <input
              type="text"
              name="surname"
              placeholder="Soyisim"
              class="form-control mb-2"
            />
            <label for="surname">Soyisim</label>
          </div>

          <!-- Fotoğraf Yükleme -->
          <div class="mb-3">
            <label for="voterPhoto" class="form-label">Yüz Fotoğrafı Yükleyin</label>
            <input
              type="file"
              class="form-control"
              id="voterPhoto"
              name="voterPhoto"
              accept="image/*"
            />
          </div>
        </div>

        <!-- Kayıt Ol Butonu -->
        <button class="w-100 btn btn-lg btn-primary" type="submit">
          Kayıt Ol
        </button>
        <p class="text-center mt-3">
          Zaten Kayıtlı mısınız?
          <a href="{{ url_for('accounts.login') }}">Şimdi Giriş yapın</a>
        </p>
      </form>
    </main>
  </div>
  <div class="col-md-4"></div>
</div>

<script>
  function toggleVoterFields() {
    const isVoter = document.getElementById("is_voter").checked;
    const voterFields = document.getElementById("voter-fields");
    voterFields.style.display = isVoter ? "block" : "none";
  }
</script>
<style>
  /* Form ana kapsayıcı */
  .form-signin {
    background: #f8f9fa; /* Hafif gri arka plan */
    padding: 30px; /* İçerik boşluğu */
    border-radius: 10px; /* Yuvarlatılmış köşeler */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Hafif gölge */
  }

  /* Başlık */
  .form-signin h1 {
    font-size: 1.8rem;
    color: #343a40; /* Koyu renk */
    font-weight: bold;
    margin-bottom: 20px;
  }

  /* Form alanları */
  .form-control {
    border: 1px solid #ced4da; /* İnce kenarlık */
    border-radius: 5px; /* Hafif yuvarlatılmış kenarlar */
    box-shadow: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .form-control:focus {
    border-color: #007bff; /* Odakta mavi kenar */
    box-shadow: 0 0 4px rgba(0, 123, 255, 0.25); /* Hafif mavi gölge */
  }

  /* Buton */
  .btn-primary {
    background-color: #007bff;
    border: none;
    transition: background-color 0.3s, box-shadow 0.3s;
  }

  .btn-primary:hover {
    background-color: #0056b3; /* Daha koyu mavi */
    box-shadow: 0 4px 8px rgba(0, 91, 178, 0.5); /* Hafif gölge */
  }

  /* Checkbox ve label */
  .form-check-label {
    font-size: 0.95rem;
    color: #495057; /* Hafif koyu gri */
  }

  /* Fotoğraf yükleme label */
  .form-label {
    font-size: 0.9rem;
    color: #495057;
  }

  /* Link */
  a {
    color: #007bff;
    text-decoration: none;
    transition: color 0.2s;
  }

  a:hover {
    color: #0056b3; /* Daha koyu mavi */
  }

  /* Alt metin */
  .form-signin p {
    margin-top: 15px;
    font-size: 0.9rem;
    color: #6c757d; /* Hafif gri */
  }

  /* Sayfa boşlukları */
  .row {
    margin-top: 50px; /* Üstten boşluk */
  }

  /* File input alanı */
  input[type="file"] {
    padding: 5px;
    font-size: 0.9rem;
  }
</style>
{% endblock %}
